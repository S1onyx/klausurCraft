/* Dark Theme for JavaFX */

.root {
    -color-bg: #0b0d10;
    -color-surface: #14181d;
    -color-surface-2: #1a2027;
    -color-border: #232a32;
    -color-text: #e9eef5;
    -color-muted: #9aa7b5;
    -color-accent: #60a5fa;
    -color-accent-contrast: #0b0d10;
    -color-focus: #3b82f6;

    -fx-background-color: -color-bg;
    -fx-text-fill: -color-text;

    -fx-font-family: "Inter", "Segoe UI", "SF Pro Text", system-ui, sans-serif;
    -fx-font-size: 13px;
    -fx-accent: -color-accent;
}

/* eliminate white flashes on dark */
.scroll-pane, .scroll-pane .viewport, .scroll-pane .corner {
    -fx-background-color: transparent;
    -fx-background: transparent;
}

/* Also ensure SplitPane/TabPane/Accordion/Toolbars are dark */
.split-pane, .tab-pane, .titled-pane, .menu-bar, .tool-bar {
    -fx-background-color: transparent;
}
.tab-pane .tab-header-area {
    -fx-background-color: -color-surface;
    -fx-border-color: -color-border;
}
.titled-pane > .title {
    -fx-background-color: -color-surface;
    -fx-text-fill: -color-text;
    -fx-border-color: -color-border;
}
.tooltip {
    -fx-background-color: #1b2128;
    -fx-text-fill: -color-text;
    -fx-border-color: -color-border;
}

/* TreeView: remove white area & unify selection */
.tree-view, .tree-view .virtual-flow, .tree-view .clipped-container, .tree-view .viewport {
    -fx-background-color: -color-surface;
}
.tree-cell {
    -fx-background-color: -color-surface;
    -fx-text-fill: -color-text;
}
.tree-cell:filled:selected, .tree-cell:filled:selected:hover {
    -fx-background-color: rgba(96,165,250,0.20);
    -fx-text-fill: -color-text;
}
.tree-cell:hover {
    -fx-background-color: rgba(255,255,255,0.03);
}

.pane, .anchor-pane, .border-pane, .stack-pane, .vbox, .hbox, .flow-pane, .grid-pane { -fx-background-color: transparent; }

.card {
    -fx-background-color: -color-surface;
    -fx-background-radius: 10;
    -fx-padding: 16;
    -fx-border-color: -color-border;
    -fx-border-radius: 10;
}

.label { -fx-text-fill: -color-text; }
.label.muted { -fx-text-fill: -color-muted; }

/* Buttons */
.button {
    -fx-background-color: #1b2128;
    -fx-text-fill: -color-text;
    -fx-background-radius: 8;
    -fx-padding: 8 14;
    -fx-border-color: -color-border;
    -fx-border-radius: 8;
    -fx-cursor: hand;
}
.button:hover { -fx-background-color: #232a32; }
.button:pressed { -fx-background-color: #2a333d; }
.button.primary {
    -fx-background-color: -color-accent;
    -fx-text-fill: -color-accent-contrast;
    -fx-border-color: transparent;
}
.button.primary:hover { -fx-background-color: #3b82f6; }
.button.primary:pressed { -fx-background-color: #2563eb; }

/* Inputs */
.text-field, .password-field, .text-area, .combo-box-base {
    -fx-background-color: #171c22;
    -fx-text-fill: -color-text;
    -fx-background-radius: 8;
    -fx-border-color: -color-border;
    -fx-border-radius: 8;
    -fx-padding: 8 10;
}
.text-area .content { -fx-background-color: #171c22; -fx-background-radius: 8; }
.text-field:focused, .password-field:focused, .text-area:focused, .combo-box-base:focused {
    -fx-border-color: -color-focus;
    -fx-effect: dropshadow(gaussian, rgba(59,130,246,0.45), 6, 0.25, 0, 0);
}

/* ComboBox: button + list styling */
.combo-box-base .arrow-button { -fx-background-color: transparent; }
.combo-box .list-cell { -fx-text-fill: -color-text; }

/* >>> FIX: Dark popup for ComboBox (readable options) <<< */
.combo-box-popup, 
.combo-box-popup > .list-view {
    -fx-background-color: #1b2128;
    -fx-control-inner-background: #1b2128;
    -fx-background-insets: 0;
    -fx-border-color: -color-border;
    -fx-border-width: 1;
    -fx-background-radius: 8;
    -fx-border-radius: 8;
}
.combo-box-popup .list-view .virtual-flow, 
.combo-box-popup .list-view .clipped-container, 
.combo-box-popup .list-view .sheet {
    -fx-background-color: transparent;
}
.combo-box-popup .list-cell {
    -fx-background-color: transparent;
    -fx-text-fill: -color-text;
}
.combo-box-popup .list-cell:filled:hover {
    -fx-background-color: rgba(96,165,250,0.16);
    -fx-text-fill: -color-text;
}
.combo-box-popup .list-cell:filled:selected, 
.combo-box-popup .list-cell:filled:selected:hover {
    -fx-background-color: rgba(96,165,250,0.24);
    -fx-text-fill: -color-text;
}

/* Colored ComboBoxes (match badges) */
.combo-diff-easy  { -fx-background-color: rgba(16,185,129,0.18); -fx-border-color: rgba(16,185,129,0.55); -fx-text-fill: #bbf7d0; }
.combo-diff-medium{ -fx-background-color: rgba(245,158,11,0.20); -fx-border-color: rgba(245,158,11,0.55); -fx-text-fill: #fde68a; }
.combo-diff-hard  { -fx-background-color: rgba(239,68,68,0.20);  -fx-border-color: rgba(239,68,68,0.55);  -fx-text-fill: #fecaca; }

.combo-elig-exam     { -fx-background-color: rgba(124,58,237,0.28); -fx-border-color: rgba(124,58,237,0.65); -fx-text-fill: #e9d5ff; }
.combo-elig-practice { -fx-background-color: rgba(217,70,239,0.26); -fx-border-color: rgba(217,70,239,0.65); -fx-text-fill: #f5d0fe; }
.combo-elig-both     { -fx-background-color: rgba(99,102,241,0.28); -fx-border-color: rgba(99,102,241,0.65); -fx-text-fill: #e0e7ff; }

.combo-box-base.combo-diff-easy  .arrow, .combo-box-base.combo-diff-medium .arrow, .combo-box-base.combo-diff-hard .arrow,
.combo-box-base.combo-elig-exam .arrow, .combo-box-base.combo-elig-practice .arrow, .combo-box-base.combo-elig-both .arrow { -fx-background-color: transparent; }

/* Lists */
.list-view, .table-view {
    -fx-background-color: -color-surface;
    -fx-background-insets: 0;
    -fx-background-radius: 10;
    -fx-border-color: -color-border;
    -fx-border-radius: 10;
}
.table-view .column-header-background {
    -fx-background-color: #1b2128;
    -fx-background-radius: 10 10 0 0;
    -fx-border-color: -color-border;
    -fx-border-width: 0 0 1 0;
}
.table-row-cell:filled:selected, .list-cell:filled:selected {
    -fx-background-color: rgba(96,165,250,0.20);
    -fx-text-fill: -color-text;
}

/* Scrollbar */
.scroll-bar:vertical, .scroll-bar:horizontal { -fx-background-color: transparent; }
.scroll-bar .thumb { -fx-background-color: #2d3742; -fx-background-radius: 8; }
.scroll-bar .thumb:hover { -fx-background-color: #364250; }

/* Status bar, sheet, headers, chips */
.status-bar {
    -fx-background-color: -color-surface;
    -fx-border-color: -color-border;
    -fx-border-width: 1 0 0 0;
    -fx-padding: 8 12;
    -fx-background-radius: 10;
}
.sheet {
    -fx-background-color: -color-surface;
    -fx-border-color: -color-border;
    -fx-border-width: 0 0 0 1;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 18, 0.25, -6, 0);
    -fx-background-radius: 0;
}
.header { -fx-font-size: 14px; -fx-font-weight: bold; }
.chip { -fx-background-radius: 999; -fx-padding: 4 10; }

/* Base badge */
.badge {
    -fx-padding: 2 8;
    -fx-background-radius: 999;
    -fx-border-radius: 999;
    -fx-font-size: 11px;
}

/* Difficulty badges */
.badge-diff-easy    { -fx-background-color: rgba(16,185,129,0.18); -fx-border-color: rgba(16,185,129,0.45); -fx-text-fill: #bbf7d0; }
.badge-diff-medium  { -fx-background-color: rgba(245,158,11,0.20); -fx-border-color: rgba(245,158,11,0.55); -fx-text-fill: #fde68a; }
.badge-diff-hard    { -fx-background-color: rgba(239,68,68,0.20);  -fx-border-color: rgba(239,68,68,0.55);  -fx-text-fill: #fecaca; }

/* Eligibility badges (distinct violet family) */
.badge-elig-exam     { -fx-background-color: rgba(124,58,237,0.28); -fx-border-color: rgba(124,58,237,0.65); -fx-text-fill: #e9d5ff; }
.badge-elig-practice { -fx-background-color: rgba(217,70,239,0.26); -fx-border-color: rgba(217,70,239,0.65); -fx-text-fill: #f5d0fe; }
.badge-elig-both     { -fx-background-color: rgba(99,102,241,0.28);  -fx-border-color: rgba(99,102,241,0.65);  -fx-text-fill: #e0e7ff; }

/* Neutral (points) badge */
.badge:not(.badge-diff-easy):not(.badge-diff-medium):not(.badge-diff-hard)
       :not(.badge-elig-exam):not(.badge-elig-practice):not(.badge-elig-both) {
    -fx-background-color: #1f2630;
    -fx-text-fill: #c9d4df;
    -fx-border-color: #2e3a47;
}

/* Top-right difficulty filters */
#fltEasy, #fltMedium, #fltHard {
    -fx-background-radius: 999;
    -fx-border-radius: 999;
    -fx-padding: 2 10;
    -fx-border-width: 1;
}
#fltEasy   { -fx-background-color: rgba(16,185,129,0.18); -fx-border-color: rgba(16,185,129,0.55); -fx-text-fill: #bbf7d0; }
#fltMedium { -fx-background-color: rgba(245,158,11,0.20); -fx-border-color: rgba(245,158,11,0.55); -fx-text-fill: #fde68a; }
#fltHard   { -fx-background-color: rgba(239,68,68,0.20);  -fx-border-color: rgba(239,68,68,0.55);  -fx-text-fill: #fecaca; }
.check-box > .label { -fx-text-fill: inherit; }

/* Context menu (avoid white popup) */
.context-menu {
    -fx-background-color: #1b2128;
    -fx-text-fill: -color-text;
    -fx-border-color: -color-border;
}
.menu-item:focused { -fx-background-color: rgba(96,165,250,0.20); }

/* ===== Dialogs (Alerts, TextInputDialog) â€“ Dark Mode Fix ===== */
.dialog-pane {
    -fx-background-color: -color-surface;
    -fx-border-color: -color-border;
    -fx-border-width: 1;
}
.dialog-pane > .content.label {
    -fx-text-fill: -color-text;
}
.dialog-pane > .header-panel {
    -fx-background-color: -color-surface-2;
    -fx-border-color: -color-border;
    -fx-border-width: 0 0 1 0;
}
.dialog-pane > .header-panel > .label {
    -fx-text-fill: -color-text;
}
.dialog-pane .button-bar .button {
    -fx-background-color: #1b2128;
    -fx-text-fill: -color-text;
    -fx-border-color: -color-border;
}
.dialog-pane .button-bar .button:hover { -fx-background-color: #232a32; }
.dialog-pane .button-bar .button:default {
    -fx-background-color: -color-accent;
    -fx-text-fill: -color-accent-contrast;
    -fx-border-color: transparent;
}
.dialog-pane .button-bar .button:default:hover { -fx-background-color: #3b82f6; }

/* ===== Slide-over footer (sticky bar) ===== */
.sheet-footer {
    -fx-background-color: -color-surface-2;
    -fx-border-color: -color-border;
    -fx-border-width: 1 0 0 0;
    -fx-padding: 8 12;
}